{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Start REPL (PsySH)",
            "type": "shell",
            "command": "./vendor/bin/psysh --trust-project",
            "windows": {
                "command": "php ./vendor/bin/psysh --trust-project"
            },
            "problemMatcher": []
        },
        {
            "label": "Clear cache",
            "type": "shell",
            "command": "./console cache:clear",
            "windows": {
                "command": "php .\\console cache:clear"
            },
            "problemMatcher": []
        },
        {
            "label": "Warm cache",
            "type": "shell",
            "command": "./console cache:warm",
            "windows": {
                "command": "php .\\console cache:warm"
            },
            "problemMatcher": []
        },
        {
            "label": "Create controller",
            "type": "shell",
            "command": "./console controller:create ${input:controllerName}",
            "windows": {
                "command": "php .\\console controller:create ${input:controllerName}"
            },
            "problemMatcher": []
        },
        {
            "label": "Run console command (Docker)",
            "type": "shell",
            "command": "docker exec -it -u www-data kfx-php php console ${input:consoleCommand}",
            "problemMatcher": []
        },
        {
            "label": "Run console command as root (Docker)",
            "type": "shell",
            "command": "docker exec -it kfx-php php console ${input:consoleCommand}",
            "problemMatcher": []
        }
    ],
    "inputs": [
        {
            "id": "controllerName",
            "description": "The name of the new controller. Should not be affixed with \"Controller\".",
            "type": "promptString"
        },
        {
            "id": "consoleCommand",
            "description": "The console command to run.",
            "type": "pickString",
            "options": [
                "help",
                "list",
                "cache:clear",
                "cache:warm",
                "clamav:scan-workshop-all",
                "clamav:scan-workshop-new",
                "controller:create",
                "crash-report:fix-exception-origins",
                "dev:generate-mock-data",
                "kfx:clear-old-game-files",
                "kfx:clear-old-prototypes",
                "kfx:extract-alpha-game-files",
                "kfx:fetch-alpha",
                "kfx:fetch-discord-info",
                "kfx:fetch-forum-activity",
                "kfx:fetch-launcher",
                "kfx:fetch-prototype",
                "kfx:fetch-stable",
                "kfx:fetch-stable-game-files",
                "kfx:fetch-wiki",
                "kfx:handle-commits",
                "kfx:handle-twitch-streams",
                "kfx:pull-repo",
                "lubiki:add-file-dump-to-workshop",
                "mail:create",
                "mail:mass-verify-email",
                "mail:send",
                "mail:send-queue-all",
                "maintenance:start",
                "maintenance:stop",
                "migrations:current",
                "migrations:diff",
                "migrations:dump-schema",
                "migrations:execute",
                "migrations:generate",
                "migrations:latest",
                "migrations:list",
                "migrations:migrate",
                "migrations:rollup",
                "migrations:status",
                "migrations:sync-metadata-storage",
                "migrations:version",
                "user:clear-old-notifications",
                "user:clear-old-password-reset",
                "user:create",
                "user:generate-all-avatar-thumbnails",
                "user:handle-new-ip-logs",
                "user:merge",
                "website:benchmark-bcrypt-hash-cost",
                "website:cache-git-commits",
                "workshop:add-tag",
                "workshop:fetch-creature-maker",
                "workshop:fetch-unearth",
                "workshop:fix-ratings",
                "workshop:generate-all-thumbnails"
            ]
        }
    ]
}