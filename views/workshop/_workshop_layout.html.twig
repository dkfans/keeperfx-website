{% extends "core/_layout.html.twig" %}

{% block content %}

<div class="row" style="margin-top: 30px;">

    {# Sidebar #}
    <div class="col-3">

        {# Search and filter box #}
        <div class="content-box bg-keeper bd-keeper">
            <div class="content-header">
                <h2>Workshop</h2>
            </div>
            <div class="content-body">

                <ul style="margin-bottom: 30px;">
                    <li>
                        <a href="/workshop">Browse</a>
                    </li>
                    <li>
                        <a href="/workshop/highest-rated">Highest Rated</a>
                    </li>
                    <li>
                        <a href="/workshop/most-downloaded">Most Downloaded</a>
                    </li>
                    <li>
                        <a href="/workshop/staff-picks">Staff Picks</a>
                    </li>
                </ul>

                {% if account %}
                    <a href="/workshop/upload" class="btn btn-lg btn-medieval" style="width: 100%">
                        Upload
                    </a>
                {% endif %}
            </div>
        </div>
        <div class="content-box bg-keeper bd-keeper">
            <div class="content-header">
                <h2>Search</h2>
            </div>
            <div class="content-body">

                <form action="/workshop/search" method="GET">

                    <div class="form-group">
                        <label for="keywords">Keywords</label>
                        <input type="text" class="form-control" id="keywords" name="keywords">
                    </div>

                    {# <div class="form-group">
                        <label for="author">Author</label>
                        <input type="text" class="form-control" id="author" name="author">
                    </div> #}

                    <div class="form-group">

                        <label>
                            Type
                        </label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="type" value="0" id="type-any">
                            <label class="form-check-label" for="type-any">
                                Any
                            </label>
                        </div>
                        {% if types|length > 0 %}
                            {% for type in types %}
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="type" value="{{ type.value }}" id="type{{ loop.index }}">
                                    <label class="form-check-label" for="type{{ loop.index }}">
                                        {{ type.name|enum_beautify }}
                                    </label>
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label>
                            Tags
                        </label>
                        {% if tags|length > 0 %}
                            {% for tag in tags %}
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="tag[]" value="{{ tag.name }}" id="tag{{ loop.index }}">
                                <label class="form-check-label" for="tag{{ loop.index }}">
                                    {{ tag.name }}
                                </label>
                            </div>
                            {% endfor %}
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <input type="submit" class="form-control btn btn-lg btn-medieval" value="Search" />
                    </div>

                </form>
            </div>
        </div>
    </div>

    {# Workshop content #}
    <div class="col-9">

        {{ render_flash_messages() }}

        {% block workshop_content %}{% endblock %}
    </div>

</div>

{% endblock %}
