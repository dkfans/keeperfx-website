{% extends "workshop/_workshop_layout.html.twig" %}

{% block title %}Upload a new workshop item - Workshop{% endblock %}

{% block workshop_content %}

    <div class="content-box bg-keeper bd-keeper">
        <div class="content-header">
            <h2>Upload a new workshop item</h2>
        </div>

        <div class="content-body">

            <form action="/workshop/upload" method="POST" enctype="multipart/form-data">

                <input type="hidden" name="{{ csrf.keys.name }}" value="{{ csrf.name }}">
                <input type="hidden" name="{{ csrf.keys.value }}" value="{{ csrf.value }}">

                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" id="name" name="name">
                </div>

                <div class="form-group">
                    <label for="type">Type</label>
                    <select class="form-control" id="type" name="type">
                        {% if types|length > 0 %}
                            {% for type in types %}
                                <option value="{{ type.value }}">{{ type.name|enum_beautify }}</option>
                            {% endfor %}
                        {% endif %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="file">File</label>
                    <input type="file" class="form-control" id="file" name="file">
                </div>

                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea class="form-control" name="description" rows="6"></textarea>
                </div>

                <div class="form-group">
                    <label for="screenshots">Screenshots <span class="text-muted">(Optional)</span></label>
                    <input type="file" class="form-control" id="screenshots" name="screenshots[]" multiple="multiple">
                </div>

                <div class="form-group">
                    <label for="install_instructions">Installation instructions <span class="text-muted">(Optional)</span></label>
                    <textarea class="form-control" name="install_instructions" rows="4"></textarea>
                </div>

                <div class="form-group">
                    <label for="min_game_build">Minimum game version <span class="text-muted">(Optional)</span></label>
                    <select class="form-control" id="min_game_build" name="min_game_build">
                        <option selected=selected></option>
                        {% if builds|length > 0 %}
                            {% for build in builds %}
                                <option value="{{ build.id }}">{{ build.name }}</option>
                            {% endfor %}
                        {% endif %}
                    </select>
                </div>

                <div class="form-group">
                    <input type="submit" class="btn btn-medieval" value="Submit" />
                </div>

            </form>

        </div>
    </div>

{% endblock %}
